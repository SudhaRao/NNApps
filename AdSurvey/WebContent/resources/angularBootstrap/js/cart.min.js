insite.cart=function(){return{init:function(){jQuery("#menu-user li.user-cart").length&&insite.cart.fetch(),jQuery(document).on("click","#menu-user .cart-popover i.fa-close",function(){insite.cart.hide()})},fetch:function(){jQuery.ajax({url:"https://"+insite.hostname+"/extras/menus/carts",type:"GET",dataType:"json"}).fail(function(){}).done(function(t){var e=0;html='<div class="cart-popover">',html+='  <i class="fa fa-close"></i>',"yes"==jQuery("#menu-user li.user-cart").attr("data-presell")&&(html+='  <div class="cart-presell">',html+='    <h4 class="cart-title">Presell Cart</h4>',html+="    <p>",html+='      <div class="cart-num">'+t.carts.presell_customer.count+"</div>",t.carts.presell_customer.count>0?(e+=t.carts.presell_customer.count,html+="      You have "+t.carts.presell_customer.count+" items in your Presell Cart. ",html+="    </p>",html+='    <div class="row">',html+='      <div class="col-xs-6">',html+='        <a role="button" href="/presellcart.nsf" class="btn btn-null btn-block">View Cart</a>',html+="      </div>",html+='      <div class="col-xs-6">',html+='        <a role="button" href="/presellcart.nsf" class="btn btn-default btn-block">Checkout</a>',html+="      </div>",html+="    </div>",html+="  </div>"):(html+='      You have no items in your Presell Cart. Why not <a href="/presell.nsf/F_DASHBOARD_RETAIL">add some</a>?',html+="    </p>")),"yes"==jQuery("#menu-user li.user-cart").attr("data-presell")&&"yes"==jQuery("#menu-user li.user-cart").attr("data-product")&&(html+="<hr>"),"yes"==jQuery("#menu-user li.user-cart").attr("data-product")&&(html+='  <div class="cart-product">',html+='    <h4 class="cart-title">Product Cart</h4>',html+="    <p>",html+='      <div class="cart-num">'+t.carts.product.count+"</div>",t.carts.product.count>0?(e+=t.carts.product.count,html+="      You have "+t.carts.product.count+" items in your Product Cart. ",html+="    </p>",html+='    <div class="row">',html+='      <div class="col-xs-6">',html+='        <a role="button" href="/carts.nsf/A_CART_ACTIONS?OpenAgent&action=GOTOCART" class="btn btn-null btn-block">View Cart</a>',html+="      </div>",html+='      <div class="col-xs-6">',html+='        <a role="button" href="/carts.nsf/A_CART_ACTIONS?OpenAgent&action=GOTOCART" class="btn btn-default btn-block">Checkout</a>',html+="      </div>",html+="    </div>",html+="  </div>"):(html+='      You have no items in your Product Cart. Why not <a href="/items.nsf/F_SEARCH">add some</a>?',html+="    </p>")),html+="</div>",jQuery('#menu-user li.user-cart a[data-toggle="popover"]').popover({html:!0,placement:"bottom",content:html}),e>0&&(jQuery('#menu-user li.user-cart a[data-toggle="popover"]').addClass("full").html("My Carts ("+e+")"),jQuery("body.root .home").length&&!jQuery.cookie("LrvlCartAcknowledged")&&setTimeout(function(){insite.cart.show()},1e3))})},show:function(){jQuery('#menu-user li.user-cart a[data-toggle="popover"]').popover("show")},hide:function(){jQuery('#menu-user li.user-cart a[data-toggle="popover"]').popover("hide"),jQuery.cookie("LrvlCartAcknowledged",!0,{domain:"."+insite.hostname,path:"/"})}}}();